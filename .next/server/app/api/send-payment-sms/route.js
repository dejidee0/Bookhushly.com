"use strict";(()=>{var e={};e.id=4235,e.ids=[4235],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},63477:e=>{e.exports=require("querystring")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},80896:(e,o,r)=>{r.r(o),r.d(o,{headerHooks:()=>b,originalPathname:()=>$,requestAsyncStorage:()=>g,routeModule:()=>f,serverHooks:()=>v,staticGenerationAsyncStorage:()=>q,staticGenerationBailout:()=>x});var s={};r.r(s),r.d(s,{POST:()=>k,dynamic:()=>m}),r(95655);var t=r(83323),i=r(54647),n=r(66886),a=r(89552),u=r.n(a);let p=process.env.TWILIO_PHONE_NUMBER,d=()=>{let e=process.env.TWILIO_ACCOUNT_SID,o=process.env.TWILIO_AUTH_TOKEN;if(!e||!e.startsWith("AC")||!o)throw Error("Invalid Twilio credentials: check SID and Auth Token");return u()(e,o)},c={bookingConfirmation:e=>`ðŸŽ‰ Booking Confirmed! Your booking for ${e.serviceTitle} on ${e.bookingDate} has been confirmed. Ref: ${e.bookingId}. - Bookhushly`,bookingReminder:e=>`â° Reminder: Your booking for ${e.serviceTitle} is tomorrow at ${e.bookingTime}. Ref: ${e.bookingId}. - Bookhushly`,paymentConfirmation:e=>`âœ… Payment Successful! â‚¦${e.amount} paid for ${e.serviceTitle}. Ref: ${e.reference}. - Bookhushly`,kycApproval:e=>`ðŸŽ‰ KYC Approved! Welcome to Bookhushly, ${e.vendorName}. You can now create listings and accept bookings. - Bookhushly`,kycRejection:e=>`âŒ KYC Review Required. Please update your information and resubmit. Login to your dashboard for details. - Bookhushly`,otpVerification:e=>`Your Bookhushly verification code is: ${e.otp}. Valid for 10 minutes. Do not share this code. - Bookhushly`,passwordReset:e=>`ðŸ” Password reset requested for your Bookhushly account. Use this code: ${e.resetCode}. Valid for 15 minutes. - Bookhushly`,newBookingVendor:e=>`ðŸ“‹ New Booking! You have a new booking request for ${e.serviceTitle} on ${e.bookingDate}. Check your dashboard. - Bookhushly`,bookingStatusUpdate:e=>`ðŸ“± Booking Update: Your booking for ${e.serviceTitle} is now ${e.status}. Ref: ${e.bookingId}. - Bookhushly`},l=async(e,o,r)=>{try{let s=d(),t=c[o];if(!t)throw Error(`SMS template '${o}' not found`);let i=e.startsWith("+")?e:`+234${e.replace(/^0/,"")}`,n=await s.messages.create({body:t(r),from:p,to:i});return console.log(`âœ… SMS sent to ${i}, SID: ${n.sid}`),{success:!0,messageId:n.sid}}catch(e){return console.error("âŒ SMS send error:",e.message),{success:!1,error:e.message}}},h=async(e,o)=>await l(e,"paymentConfirmation",o),m="force-dynamic";async function k(e){try{let o=await e.json(),{phone:r,data:s}=o;if(!r||!s)return n.Z.json({success:!1,error:"Missing phone or data"},{status:400});let t=await h(r,s);return n.Z.json(t)}catch(e){return console.error("SMS API error:",e),n.Z.json({success:!1,error:e.message},{status:500})}}let y=t.AppRouteRouteModule,f=new y({definition:{kind:i.x.APP_ROUTE,page:"/api/send-payment-sms/route",pathname:"/api/send-payment-sms",filename:"route",bundlePath:"app/api/send-payment-sms/route"},resolvedPagePath:"C:\\Users\\D\\Downloads\\Bookhushly.com-main\\Bookhushly.com-main\\app\\api\\send-payment-sms\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:q,serverHooks:v,headerHooks:b,staticGenerationBailout:x}=f,$="/api/send-payment-sms/route"}};var o=require("../../../webpack-runtime.js");o.C(e);var r=e=>o(o.s=e),s=o.X(0,[9126,9552],()=>r(80896));module.exports=s})();